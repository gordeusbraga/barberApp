<app-header></app-header>


<div class="w-[90%] mx-auto font-sans border-b-2 border-purple-600 pb-4 mb-6">
    <section class="relative flex items-center p-6">
        <a routerLink="/home" class="h-6 w-6 cursor-pointer absolute left-6 top-1/2 -translate-y-1/2">
            <img src="../../../assets/arrow.png" alt="voltar" />
        </a>
        <h2 class="w-full text-center text-3xl font-semibold pt-3">
            Relatórios
        </h2>
    </section>
</div>


<section class="w-[90%] md:w-[70%] mx-auto font-sans mb-10">

    <div *ngIf="isLoading" class="text-center p-10">
        <p class="text-lg text-gray-500">Carregando relatórios...</p>
    </div>

    <div *ngIf="!isLoading">

        <h3 class="text-lg font-semibold text-gray-800 mb-4 border-l-4 border-purple-600 pl-3">
            Visão Geral
        </h3>


        <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-200 mb-8">
            <h4 class="text-xl font-semibold text-gray-900 mb-4">Faturamento Semanal</h4>
            <canvas id="weeklyRevenueChart" #weeklyRevenueChart></canvas>
        </div>


        <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200">
            <h4 class="text-2xl font-bold text-purple-700 mb-6 text-center">
                Resumo Mensal
            </h4>
            <div class="space-y-4">
                <div class="flex justify-between items-center">
                    <span class="text-lg text-gray-700">Faturamento Total:</span>

                    <span class="text-2xl font-bold text-gray-900">
                        {{ faturamentoTotal | currency:'BRL' }}
                    </span>
                </div>
                <div class="flex justify-between items-center border-t pt-4">
                    <span class="text-lg text-gray-700">Agendamentos Concluídos:</span>
                    <span class="text-2xl font-bold text-gray-900">
                        {{ agendamentosConcluidos }}
                    </span>
                </div>
            </div>
        </div>
    </div>

</section>